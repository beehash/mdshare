javascript ä¸­çš„ this æ˜¯æˆ‘ä»¬å¸¸å¸¸ç¢°åˆ°çš„ï¼Œä½†æ˜¯ï¼Œä½ çœŸçš„å¤Ÿäº†è§£å®ƒå˜›ï¼Ÿ

æˆ–è®¸ä½ ç»å¸¸ä¼šç¢°åˆ°ä¸€äº›å°´å°¬çš„åœºé¢ï¼Œè®¾è®¡ç¨‹åºæ—¶ï¼Œå› ä¸ºå¯¹thisä¸å¤Ÿäº†è§£ï¼Œåœ¨ç¨‹åºè®¾è®¡ä¸­ä¸¢å¤±æ‰åŸæœ¬é¢„æƒ³çš„å¯¹è±¡ï¼›åœ¨ç¨‹åºè¿è¡Œä¸­ï¼Œéšç€ä»£ç é‡çš„å¢åŠ ï¼Œåœ¨è¿è¡Œç¨‹åºæ—¶ï¼Œthiså´æŒ‡å‘å¦ä¸€ä¸ªä½ç½®ï¼›å¦å¤–ï¼Œthis ä¹Ÿå¸¸å¸¸ä¼šå‡ºç°åœ¨é¢è¯•é¢˜ä¸­ã€‚

è®©æˆ‘ä»¬æ¥æ­å¼€å®ƒçš„ç¥ç§˜é¢çº± ğŸ‘‰

##### äººå·¥GPSå¯¼èˆªä»ª
- [x] thisçš„è¯¯è§£
- [x] æ”¹å˜thisæŒ‡å‘
- [x] ç»‘å®šä¼˜å…ˆçº§
- [x] å°ä¾‹å­

## 1ã€thisçš„è¯¯è§£
### 1.1 è¯¯è§£ 1 : æŒ‡å‘å‡½æ•°è‡ªèº«

è®©æˆ‘ä»¬æ¥çœ‹ä¸‹è¿™é“é¢˜ï¼Œå®ƒçœŸçš„æŒ‡å‘è‡ªèº«ä¹ˆï¼Ÿ

```
var length = 4; 
function callback() { 
  console.log(this.length); // è¾“å‡ºä»€ä¹ˆ 
} 
 
const object = {
  length: 5, 
  method() { 
    arguments[0](); 
  } 
}; 
 
object.method(callback, 1, 2); 
```

- æ‰“å°è¾“å‡ºï¼š3

è¿™é‡Œè¾“å‡º 3 å‡ºè‡ª arguments.length, ä½ å¯ä»¥çœ‹è§ this å¹¶éæŒ‡å‘è‡ªèº«äº†ï¼Œå› ä¸º arguments[0] è¿™ä¸ªè¡¨è¾¾å¼ å·²ç»é™æ‚„æ‚„åœ°æ”¹å˜äº†thisçš„æŒ‡å‘ä¸º argumentså¯¹è±¡äº†ã€‚ 

### 1.2 è¯¯è§£2ï¼šå®ƒçš„ä½œç”¨åŸŸ
> thisæŒ‡å‘çš„æ˜¯å½“å‰å¯¹è±¡æ‰€åœ¨çš„ä½œç”¨åŸŸã€‚

```
var big = "1"
var obj = {
big: "2",
showBig: function() {
return this.big
},
}
obj.showBig.call(big)

```

è¾“å‡º `Æ’ big() { [native code] }`
è¿™é“é¢˜ç¬¬ä¸€æ­¥å°±æ”¹å˜äº† this çš„æŒ‡å‘ï¼Œè€Œä¸”è¾“å‡ºçš„å†…å®¹æ˜¯ String å¯¹è±¡ä¸­çš„åŸç”Ÿ big æ–¹æ³•ã€‚<br>
å› ä¸º call æ–¹æ³•æ”¹å˜äº† this çš„æŒ‡å‘ä¸º å˜é‡ big ï¼Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ã€‚


è¿™é‡Œæ¶‰åŠä¸€ä¸ª `call` å’Œ `éšå¼ç»‘å®š` é—´çš„ä¼˜å…ˆçº§é—®é¢˜ã€‚call èµ¢äº†ï¼Œæ‰€ä»¥ this ç»‘å®šåˆ°äº† big è¿™ä¸ªå˜é‡ä¸Šäº†ã€‚


#### å°ç»“
 äº‹å®ä¸Šï¼Œjavascript æœ‰ä¸¤ä¸ªä½œç”¨åŸŸï¼Œ ä¸€ä¸ªæ˜¯`è¯æ³•ä½œç”¨åŸŸ`ï¼Œå¯¹è±¡åœ¨å®šä¹‰çš„æ—¶å€™çš„ä½œç”¨åŸŸã€‚å¦ä¸€ä¸ªæ˜¯ `åŠ¨æ€ä½œç”¨åŸŸ`ï¼Œæ‰€æŒ‡çš„æ˜¯å¯¹è±¡åœ¨è¢«ä½¿ç”¨æ—¶çš„ä½œç”¨åŸŸã€‚
 
 javascript è™½ç„¶æ˜¯ç¼–è¯‘å‹è¯­è¨€ï¼Œä½†æ˜¯å’Œå¤§å¤šæ•°ç¼–è¯‘å‹è¯­è¨€ä¸ä¸€æ ·ï¼Œå®ƒçš„æ‰§è¡Œä½œç”¨åŸŸæ˜¯åœ¨è¿è¡Œæ—¶æŒ‡å®šçš„ï¼Œä¸åŒçš„è¿è¡Œç¯å¢ƒï¼Œä»–çš„æ‰§è¡Œä½œç”¨åŸŸæ˜¯æœ‰å¯èƒ½æ”¹å˜çš„ã€‚
 
 å› æ­¤ï¼Œthis æŒ‡å‘é—®é¢˜ï¼Œä¸èƒ½çœ‹ this çš„è¯æ³•ä½œç”¨åŸŸï¼Œè€Œåº”è¯¥çœ‹å®ƒçš„ç»‘å®šå¯¹è±¡æ˜¯è°ã€‚
 
 æ¥ä¸‹æ¥ä»‹ç»ç»™å¤§å®¶çš„æ˜¯ javascript ä¸­çš„ this æ˜¯ä¾æ®ä»€ä¹ˆæ¥çš„ï¼Œå…ˆä»‹ç»javascript ç»‘å®šthisçš„å‡ ç§æ–¹å¼

## 2ã€ æ”¹å˜ this çš„æŒ‡å‘
æœ‰å¤šå°‘ç§æ–¹å¼å¯ä»¥æ”¹å˜thisçš„æŒ‡å‘ï¼Ÿ
- 1ã€new ç»‘å®š
- 2ã€callã€apply ç»‘å®š
- 3ã€bind ç»‘å®š
- 4ã€éšå¼ç»‘å®š
- 5ã€é»˜è®¤ç»‘å®š

### 2.1 new ç»‘å®š
new å®ä¾‹åŒ–ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œç»å†äº†å“ªäº›è¿‡ç¨‹ï¼Ÿ
- 1ã€åˆ›å»ºä¸€ä¸ªå¯¹è±¡object
- 2ã€è®¾ç½®åŸå‹é“¾
- 3ã€è®©æ„é€ å‡½æ•°ä¸­çš„thisæŒ‡å‘objectï¼Œå¹¶æ‰§è¡Œæ„é€ å‡½æ•°çš„æ–¹æ³•ä½“
- 4ã€è¿”å›ä¸€ä¸ªå¯¹è±¡

### 2.2 callã€apply
```
func.call(this, [arguments]);
func.apply(object, arguments);
```

call ã€apply æ–¹å¼é™¤äº†ç”¨æ³•ä¸Šæœ‰ä¸€äº›åŒºåˆ«å¤–ï¼Œæ•ˆæœéƒ½æ˜¯ä¸º func ç»‘å®š this æ‰§è¡Œç¯å¢ƒï¼Œå¹¶æ‰§è¡Œå‡½æ•°ã€‚

å±äºç¡¬ç»‘å®šï¼Œå³å¼ºåˆ¶æ”¹å˜ this çš„æŒ‡å‘

### 2.3 bind ç»‘å®š
```
var function aaa () {
    resturn this.count;
}
var obj  = {
    count: 3,
};
var p = aaa.bind(obj;

p(); // è¾“å‡º 3
```
ä¸call ã€apply ç•¥æœ‰ä¸åŒçš„æ˜¯ï¼Œbind åªæ˜¯æ”¹å˜å‡½æ•°çš„ this æŒ‡å‘ï¼Œä¸ä¼šæ‰§è¡Œè¯¥å‡½æ•°ã€‚
ä¹Ÿå±äºå¼ºåˆ¶ç»‘å®šã€‚

### 2.4 éšå¼ç»‘å®š
éšå¼ç»‘å®šæ˜¯æˆ‘ä»¬å¸¸è§çš„ç»‘å®šæ–¹å¼ã€‚
```
function test () {
  console.log(this.a);
}
var obj = {
  a: 3,
  test,
};
obj.test(); // è¾“å‡º 3
```

foo å‡½æ•°ä¸­çš„ this è¢«éšå¼ç»‘å®šåˆ°äº† obj ä¸Šã€‚å®è´¨ä¸Šæ˜¯è¿ç”¨äº† apply æ–¹å¼ç»‘å®šåˆ°äº† obj ä¸Š

### 2.5 é»˜è®¤ç»‘å®š
```
var a = 6;
```
æ‰“å°è¾“å‡ºï¼š
- this.a   // è¾“å‡º 6
åœ¨è¿™é‡Œé»˜è®¤ç»‘å®šå…¨å±€ä½œç”¨åŸŸçš„å¯¹è±¡global

$\color{#f89d5e}{Noteï¼š}$ é»˜è®¤ç»‘å®šåœ¨ es5 ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ æ²¡æœ‰æ•ˆæœ

## 3ã€ç»‘å®šä¼˜å…ˆçº§
ä¸Šè¿°ç»‘å®šæ”¹å˜thisæŒ‡å‘çš„æ–¹æ³•ä¹Ÿæœ‰ä¼˜å…ˆçº§ã€‚

$\color{red}{ bind ã€ apply ã€ call}$  >  $\color{orange}{new}$ > $\color{green}{éšå¼ç»‘å®š}$ > $\color{blue}{é»˜è®¤ç»‘å®š}$


#### this çš„ä¾æ®æ¥æº
    åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ­£å¸¸æ¡ä»¶ä¸‹ï¼Œåœ¨æˆ‘ä»¬ä¸ç›´æ¥æ‰‹åŠ¨è°ƒç”¨ bind ã€ call ã€apply è¿™ä¸‰ç§å¼ºåˆ¶ç»‘å®šçš„æ–¹å¼æ—¶
    javascript æœ‰ é»˜è®¤ç»‘å®šã€éšå¼ç»‘å®šã€new ç»‘å®šæ¥å¸®åŠ©æˆ‘ä»¬é™æ‚„æ‚„æ”¹å˜ this çš„æŒ‡å‘ã€‚
    å¹¶ä¸”è¿™ç§ç»‘å®šä¹Ÿå­˜åœ¨ä¼˜å…ˆçº§ã€‚è¿™ä¹Ÿæ˜¯thisçš„ç¥ç§˜ä¹‹å¤„ã€‚
    
    å½“åªå­˜åœ¨ä¸€ç§ç»‘å®šæƒ…å½¢æ—¶ï¼Œthis = ç»‘å®šçš„å¯¹è±¡ã€‚
    å½“å­˜åœ¨å‡ ç§ç»‘å®šæƒ…å½¢æ—¶ï¼Œthis = ä¼˜å…ˆçº§æœ€å¤§çš„æŒ‡å®šçš„ç»‘å®šå¯¹è±¡ã€‚

## 4ã€å°ä¾‹å­
```
function Foo(){
 // funcI
 getName = function() {
     alert(1);
 };

 return this;
}

// funcII
Foo.getName = function() {
    alert(2);
};

// funcIII
Foo.prototype.getName = function(){
    alert(3);
};

// funcIV
var getName = function(){
    alert(4);
};

// funcV
function getName(){
    alert(5);
}
```

> è¯·å†™å‡ºä»¥ä¸‹è¾“å‡ºç»“æœï¼š

$\color{#f89d5e}{æç¤ºï¼š}$ è¿™é“é¢˜ä¸­å®šä¹‰äº†å¤šç§ getName æ–¹æ³•ï¼Œè§£é¢˜å…³é”®åœ¨äºåˆ†æä¸­æ¯ä¸€é“é¢˜ä¸­çš„ getName ä»£æŒ‡çš„å“ªä¸€ä¸ª.

- 1. Foo.getName();
> `funcII`
- 2. getName();
> `funcIV`
- 3. Foo().getName();
> `funcI`
- 4. getName();
> `funcI`
- 5. new Foo.getName(); // 2
> Foo.getName  `(funcII)` ->  new ()
- 6. new Foo().getName(); // 3
> new Foo() -> ().getName()  `(funcIII)`;
- 7. new new Foo().getName(); // 3
> new Foo() -> new ().getName()  `(funcIII)`

### In the End

æœ¬æœŸåˆ†äº«åˆ°æ­¤ç»“æŸï¼Œ æƒ³çœ‹æ›´å¤šå†…å®¹ï¼Œè¯·è®¿é—®æˆ‘çš„åšå®¢ä¸»é¡µ https://blog.zswindfly.top[æ­¤ç½‘å€ä¸å­˜åœ¨]ï¼Œ åæœŸåŠ ä¸Šã€‚ > _ *

[å°ä¾‹å­å‚è€ƒå†…å®¹>>](https://www.cnblogs.com/andy-lehhaxm/p/10634170.html)